<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>o_UI_Max</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>t_files=1;

file[t_files]=file_find_first(global.g_dir+"maps\*.gfmap",0);
show_debug_message(file[t_files]);
while (file[t_files]!="")
{
t_files++;
file[t_files]=file_find_next();
show_debug_message(file[t_files]);
}
file_find_close();
map_list=ds_list_create();
map_grid=ds_grid_create(10,10);
xx=10;
yy=10;
page=0;
display_page=0;
aa=0;
//repeat(20)
//{
//t_files++;
//file[t_files]="Fake_"+string(t_files);
//}
for (i=1;i&lt;t_files;i++)
{
//ds_list_add(map_list,file[i]);

if (aa&gt;5){
page++;
aa=0;
}
aa++;

ds_grid_set(map_grid,page,i,file[i]);
//ii=instance_create(x+xx,y+yy,obj_mplist_btn);
//ii.text=file[i];
//yy+=32;
//if (yy&gt;(room_height-(32*4.5)))
//{
//yy=10;
//xx+=120;
//}
}
event_user(0);
x=0;
y=200;
colour=c_black;
width=view_wview-400;
height=400*1.5;
picked=-1;
bt_width=500*2;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x=60;
y=100;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Check which map button pressed and load it.
var yindex = y+10;
var count = ds_list_size(map_list);
if( mouse_y&gt;(y+10) &amp;&amp; mouse_y&lt;((y+10)+(count*80)) ){
    old_picked=picked;
    picked = floor(((mouse_y-(y+10))/80) );
    show_debug_message("Picked:"+string(picked));
    if (picked)==0
    { //if up
    if (display_page&gt;0) {display_page-=1;event_user(0);}
    }
    else
    if (picked=ds_list_size(map_list)-2)
    {
    if (display_page&lt;(page-2)){ display_page++ event_user(0)}
    }
    else
    if (picked=ds_list_size(map_list)-1)
    {
    draw_text(view_wview/2,view_hview/2,"Loading...");
    global.lastmap=global.g_dir+'maps\'+string(ds_grid_get(map_grid,display_page,old_picked));
    con_add(":"+string(global.lastmap),c_white);
    map_load(global.g_dir+'maps\'+string(ds_grid_get(map_grid,display_page,old_picked)));
    }
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Update page
ds_list_clear(map_list);
ds_list_add(map_list,"UP");
for (i=1;i&lt;=10;i++)
{
dat=ds_grid_get(map_grid,display_page,i);
if (string(dat)!="0")
ds_list_add(map_list,dat);
}
ds_list_add(map_list,"Down");
ds_list_add(map_list,"Load");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//event_inherited();
//draw_sprite_stretched_ext(spr_simple_back,-1,48,48,room_width-96,room_height-96,c_white,0.8);
draw_sprite_stretched(spr_big_window,-1,10,10,room_width-10,room_height-10);
//draw_rectangle_colour(x,y,x+width,y+height,make_colour_rgb(90,90,90),make_colour_rgb(90,90,90),c_gray,c_gray,0);
//draw_roundrect_colour(x,y,x+width,y+height,c1,c4,0);
draw_set_alpha(.8);
//draw_roundrect_colour(x,y,x+width,y+height,c1,c4,1);
var c=make_colour_rgb(60,60,60);
draw_rectangle_colour(x+3,100,room_width-60,height+30,c,c,c,c,0);
draw_rectangle_colour(x+3,100,room_width-60,height+30,c,c,c,c,1);

draw_set_font(fnt_14);
var yindex = y+10;
var count = ds_list_size(map_list);

for(var i=0;i&lt;count;i++){
colour=c_white;
if (picked==i){
draw_rectangle_colour(x+5,yindex+1,x+bt_width,yindex+38*2,c_gray,c_gray,c_gray,c_gray,0);
draw_text_colour(x+10,yindex, ds_list_find_value(map_list, i),colour,colour,colour,colour,1);
}
else{
if (i==0 or i==ds_list_size(map_list)-2)
draw_rectangle_colour(x+5,yindex+1,x+bt_width,yindex+38*2,merge_colour(c_gray,c_white,0.5),merge_colour(c_gray,c_white,0.5),merge_colour(c_gray,c_white,0.5),merge_colour(c_gray,c_white,0.5),0);
else
if (i=ds_list_size(map_list)-1){
draw_set_alpha(0.8);
draw_rectangle_colour(x+5,yindex+1,x+bt_width,yindex+38*2,c_red,c_red,c_red,c_red,0);
draw_set_alpha(1);
}
else{
var c = c_black;
draw_set_alpha(0.3);
//draw_rectangle_colour(x+5,yindex+1,x+bt_width,yindex+38,c,c,c,c,0);
draw_set_alpha(1);
}
draw_text_colour(x+10,yindex, ds_list_find_value(map_list, i),colour,colour,colour,colour,1);
}
yindex+=80;
}

draw_set_alpha(1);
draw_set_font(fnt_large);
draw_set_colour(c_gray);
draw_set_halign(fa_center);
draw_set_valign(fa_middle);
draw_text(room_width/2,60,"Choose Map");
draw_set_default();

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
